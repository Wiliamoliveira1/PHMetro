#Codigo do phmetro
#include <Arduino.h>
#include <Wire.h>
#include <Adafruit_ADS1X15.h>

Adafruit_ADS1115 ads;

// ðŸ”¹ Coeficientes calculados por regressÃ£o linear (3 pontos)
#define PH_SLOPE  -9.928
#define PH_INTERCEPT  43.64

void setup() {
    Serial.begin(115200);
    Wire.begin(6, 7);  // SDA = GPIO6, SCL = GPIO7

    if (!ads.begin()) {
        Serial.println("Falha ao iniciar ADS1115!");
        while (1);
    }

    ads.setGain(GAIN_ONE);  // Â±4.096V
}

void loop() {
    int16_t adcValue = ads.readADC_SingleEnded(0);
    float voltage = (adcValue * 4.096) / 32768.0;

    float phValue = PH_SLOPE * voltage + PH_INTERCEPT;

    Serial.print("ADC: "); Serial.print(adcValue);
    Serial.print(" | TensÃ£o: "); Serial.print(voltage, 4);
    Serial.print(" V | pH: "); Serial.println(phValue, 2);

    delay(1000);
}
